<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView Test</title>
    <style>
        body { 
            background: #0f172a; 
            color: white; 
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .chart-container { 
            width: 100%; 
            height: 600px; 
            background: #1e293b; 
            border-radius: 12px; 
            padding: 20px;
            margin: 20px 0;
        }
        h1 { color: #60a5fa; }
        .status { 
            padding: 10px; 
            background: #334155; 
            border-radius: 8px; 
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üöÄ TradingView Chart Test</h1>
    
    <div class="status" id="status">
        Loading TradingView chart...
    </div>
    
    <div class="chart-container">
        <div id="tradingview_test" style="width: 100%; height: 100%;"></div>
    </div>
    
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                document.getElementById('status').innerHTML = 'üîÑ Initializing TradingView widget...';
                
                new TradingView.widget({
                    "autosize": true,
                    "symbol": "BINANCE:BTCUSDT",
                    "interval": "60",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1", // Candlestick style
                    "locale": "en",
                    "enable_publishing": false,
                    "backgroundColor": "rgba(30, 41, 59, 1)",
                    "gridColor": "rgba(51, 65, 85, 1)",
                    "hide_top_toolbar": false,
                    "hide_legend": false,
                    "save_image": false,
                    "container_id": "tradingview_test",
                    "studies": [
                        "Volume@tv-basicstudies",
                        "RSI@tv-basicstudies",
                        "MACD@tv-basicstudies",
                        "BB@tv-basicstudies"
                    ],
                    "toolbar_bg": "#1e293b",
                    "loading_screen": {
                        "backgroundColor": "#1e293b",
                        "foregroundColor": "#667eea"
                    },
                    "overrides": {
                        // Candlestick colors
                        "mainSeriesProperties.candleStyle.upColor": "#10b981",
                        "mainSeriesProperties.candleStyle.downColor": "#ef4444",
                        "mainSeriesProperties.candleStyle.borderUpColor": "#10b981",
                        "mainSeriesProperties.candleStyle.borderDownColor": "#ef4444",
                        "mainSeriesProperties.candleStyle.wickUpColor": "#10b981",
                        "mainSeriesProperties.candleStyle.wickDownColor": "#ef4444",
                        // Volume colors
                        "volumePaneSize": "medium",
                        "scalesProperties.backgroundColor": "#1e293b"
                    }
                });
                
                document.getElementById('status').innerHTML = '‚úÖ TradingView widget initialized successfully!';
                console.log('‚úÖ TradingView widget created successfully');
                
            } catch (error) {
                console.error('‚ùå Error creating TradingView widget:', error);
                document.getElementById('status').innerHTML = `‚ùå Error: ${error.message}`;
                
                document.getElementById('tradingview_test').innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: #ef4444;">
                        <div style="text-align: center;">
                            <h3>TradingView Error</h3>
                            <p>${error.message}</p>
                            <p>Check browser console for details</p>
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>